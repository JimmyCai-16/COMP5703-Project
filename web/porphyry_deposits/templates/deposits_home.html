{% extends 'appboard/base.html' %}

{% load modal_tags %}
{% load project_tags %}
{% load static %}
{% load humanize %}

{% block title%}
<title>Porphyry Deposits</title>
{% endblock %}

<!-- Because it's embedded in another page, add the block content -->
{% block content %}

<!-- TODO: Design the style -->
<!-- pdp = porphyry deposits prediction -->
<div id="pdp" style="display: flex; flex-direction: column; height: 100%; width: 100%;">
    <!-- Titile box -->
    <div id="info-panel" style="height: 50px; padding-bottom: 10px; padding-bottom: 10px;">
        <!-- Content inside the green box -->
        <h2>Porphyry Deposits Prediction</h2>
    </div>
    <!-- User input box -->
    <div id="user-input">
        <div>
            <form id="user-input-form" hx-post="{% url 'porphyry_deposits:prediction' %}" hx-target="#pdp"
                hx-swap="innerHTML" onsubmit="return validateForm()">
                <div class="input-group">
                    <div class="input-item">

                        <label>Longitude</label>
                        <input type="text" id="longitude" name="longitude"
                            hx-post="{% url 'porphyry_deposits:validate_longitude' %}" hx-trigger="blur"
                            hx-target="#longitude-error" hx-swap="outerHTML">
                        <!-- eror_message页面中用的是id -->
                        <div id="longitude-error" class="error-message"></div>
                    </div>

                    <div class="input-item">
                        <label>Latitude</label>
                        <input type="text" id="latitude" name="latitude"
                            hx-post="{% url 'porphyry_deposits:validate_latitude' %}" hx-trigger="blur"
                            hx-target="#latitude-error" hx-swap="outerHTML">
                        <div id="latitude-error" class="error-message"></div>
                    </div>

                    <div class="input-item">
                        <button type="submit" id="submit-button" disabled>Get the result</button>
                    </div>
                </div>
                {% csrf_token %}
            </form>

        </div>
        <div style="margin: 10px;">

            <div class="d-flex justify-content-end">
                <div class="btn-group" id="mapButton" role="group" aria-label="Basic radio toggle button group">
                    <button type="button" class="btn btn-outline-primary active" id="defaultMap">Normal Map</button>
                    <button type="button" class="btn btn-outline-primary" id="magneticMap">Magnetic Map</button>
                </div>
            </div>

        </div>

    </div>

    <!-- Map Ccntainer box -->
    <div id="map-container" style="flex-grow: 1; position: relative; height: 100vh;"> </div>
</div>
{% endblock %}

{% block extra_head %}
{% include 'utils/extra_head.html' %}
{% endblock %}

{% block extra_body %}
{% include 'utils/extra_body.html' %}
{% endblock %}